{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\nvar _Object$defineProperties = require(\"@babel/runtime-corejs3/core-js-stable/object/define-properties\");\nvar _Object$getOwnPropertyDescriptors = require(\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors\");\nvar _Object$getOwnPropertyDescriptor = require(\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor\");\nvar _filterInstanceProperty = require(\"@babel/runtime-corejs3/core-js-stable/instance/filter\");\nvar _Object$getOwnPropertySymbols = require(\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols\");\nvar _Object$keys2 = require(\"@babel/runtime-corejs3/core-js-stable/object/keys\");\nvar _sliceInstanceProperty2 = require(\"@babel/runtime-corejs3/core-js-stable/instance/slice\");\nvar _reverseInstanceProperty = require(\"@babel/runtime-corejs3/core-js-stable/instance/reverse\");\nvar _Promise2 = require(\"@babel/runtime-corejs3/core-js-stable/promise\");\nvar _Object$setPrototypeOf = require(\"@babel/runtime-corejs3/core-js-stable/object/set-prototype-of\");\nvar _typeof3 = require(\"@babel/runtime-corejs3/helpers/typeof\");\nvar _forEachInstanceProperty2 = require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\");\nvar _Object$getPrototypeOf = require(\"@babel/runtime-corejs3/core-js-stable/object/get-prototype-of\");\nvar _Object$create = require(\"@babel/runtime-corejs3/core-js-stable/object/create\");\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\nvar _Symbol = require(\"@babel/runtime-corejs3/core-js-stable/symbol\");\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _indexOf = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/index-of\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/slicedToArray\"));\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\"));\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/keys\"));\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/typeof\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\nvar _slice = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/slice\"));\nvar _isArray = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\"));\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/defineProperty\"));\nvar _CoreManager = _interopRequireDefault(require(\"./CoreManager\"));\nfunction ownKeys(object, enumerableOnly) {\n  var keys = _Object$keys2(object);\n  if (_Object$getOwnPropertySymbols) {\n    var symbols = _Object$getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = _filterInstanceProperty(symbols).call(symbols, function (sym) {\n      return _Object$getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var _context10, _context11;\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? _forEachInstanceProperty2(_context10 = ownKeys(Object(source), !0)).call(_context10, function (key) {\n      (0, _defineProperty2.default)(target, key, source[key]);\n    }) : _Object$getOwnPropertyDescriptors ? _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)) : _forEachInstanceProperty2(_context11 = ownKeys(Object(source))).call(_context11, function (key) {\n      _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _regeneratorRuntime() {\n  \"use strict\";\n\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  _regeneratorRuntime = function () {\n    return exports;\n  };\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    $Symbol = \"function\" == typeof _Symbol ? _Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return _Object$defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function (obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = _Object$create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return generator._invoke = function (innerFn, self, context) {\n      var state = \"suspendedStart\";\n      return function (method, arg) {\n        if (\"executing\" === state) throw new Error(\"Generator is already running\");\n        if (\"completed\" === state) {\n          if (\"throw\" === method) throw arg;\n          return doneResult();\n        }\n        for (context.method = method, context.arg = arg;;) {\n          var delegate = context.delegate;\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n          if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n            if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n            context.dispatchException(context.arg);\n          } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n          state = \"executing\";\n          var record = tryCatch(innerFn, self, context);\n          if (\"normal\" === record.type) {\n            if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          }\n          \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n        }\n      };\n    }(innerFn, self, context), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = _Object$getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = _Object$create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    var _context8;\n    _forEachInstanceProperty2(_context8 = [\"next\", \"throw\", \"return\"]).call(_context8, function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == _typeof3(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    this._invoke = function (method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n      return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator.return && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n      return ContinueSentinel;\n    }\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], _forEachInstanceProperty2(tryLocsList).call(tryLocsList, pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) {\n              if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            }\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return _Object$setPrototypeOf ? _Object$setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = _Object$create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = _Promise2);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    return _reverseInstanceProperty(keys).call(keys), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function (skipTempReset) {\n      var _context9;\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, _forEachInstanceProperty2(_context9 = this.tryEntries).call(_context9, resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+_sliceInstanceProperty2(name).call(name, 1)) && (this[name] = undefined);\n      }\n    },\n    stop: function () {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function (exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function (type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function (record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function (finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    catch: function (tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function (iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\nvar ParseError = require('./ParseError').default;\nvar XHR = null;\nif (typeof XMLHttpRequest !== 'undefined') {\n  XHR = XMLHttpRequest;\n}\n\n/*:: type Base64 = { base64: string };*/\n\n/*:: type Uri = { uri: string };*/\n\n/*:: type FileData = Array<number> | Base64 | Blob | Uri;*/\n\n/*:: export type FileSource =\n  | {\n      format: 'file',\n      file: Blob,\n      type: string,\n    }\n  | {\n      format: 'base64',\n      base64: string,\n      type: string,\n    }\n  | {\n      format: 'uri',\n      uri: string,\n      type: string,\n    };*/\nfunction b64Digit(number\n/*: number*/) /*: string*/\n{\n  if (number < 26) {\n    return String.fromCharCode(65 + number);\n  }\n  if (number < 52) {\n    return String.fromCharCode(97 + (number - 26));\n  }\n  if (number < 62) {\n    return String.fromCharCode(48 + (number - 52));\n  }\n  if (number === 62) {\n    return '+';\n  }\n  if (number === 63) {\n    return '/';\n  }\n  throw new TypeError('Tried to encode large digit ' + number + ' in base64.');\n}\n/**\n * A Parse.File is a local representation of a file that is saved to the Parse\n * cloud.\n *\n * @alias Parse.File\n */\n\nvar ParseFile = /*#__PURE__*/function () {\n  /**\n   * @param name {String} The file's name. This will be prefixed by a unique\n   *     value once the file has finished saving. The file name must begin with\n   *     an alphanumeric character, and consist of alphanumeric characters,\n   *     periods, spaces, underscores, or dashes.\n   * @param data {Array} The data for the file, as either:\n   *     1. an Array of byte value Numbers, or\n   *     2. an Object like { base64: \"...\" } with a base64-encoded String.\n   *     3. an Object like { uri: \"...\" } with a uri String.\n   *     4. a File object selected with a file upload control. (3) only works\n   *        in Firefox 3.6+, Safari 6.0.2+, Chrome 7+, and IE 10+.\n   *        For example:\n   * <pre>\n   * var fileUploadControl = $(\"#profilePhotoFileUpload\")[0];\n   * if (fileUploadControl.files.length > 0) {\n   *   var file = fileUploadControl.files[0];\n   *   var name = \"photo.jpg\";\n   *   var parseFile = new Parse.File(name, file);\n   *   parseFile.save().then(function() {\n   *     // The file has been saved to Parse.\n   *   }, function(error) {\n   *     // The file either could not be read, or could not be saved to Parse.\n   *   });\n   * }</pre>\n   * @param type {String} Optional Content-Type header to use for the file. If\n   *     this is omitted, the content type will be inferred from the name's\n   *     extension.\n   * @param metadata {Object} Optional key value pairs to be stored with file object\n   * @param tags {Object} Optional key value pairs to be stored with file object\n   */\n  function ParseFile(name\n  /*: string*/, data\n  /*:: ?: FileData*/, type\n  /*:: ?: string*/, metadata\n  /*:: ?: Object*/, tags\n  /*:: ?: Object*/) {\n    (0, _classCallCheck2.default)(this, ParseFile);\n    (0, _defineProperty2.default)(this, \"_name\", void 0);\n    (0, _defineProperty2.default)(this, \"_url\", void 0);\n    (0, _defineProperty2.default)(this, \"_source\", void 0);\n    (0, _defineProperty2.default)(this, \"_previousSave\", void 0);\n    (0, _defineProperty2.default)(this, \"_data\", void 0);\n    (0, _defineProperty2.default)(this, \"_requestTask\", void 0);\n    (0, _defineProperty2.default)(this, \"_metadata\", void 0);\n    (0, _defineProperty2.default)(this, \"_tags\", void 0);\n    var specifiedType = type || '';\n    this._name = name;\n    this._metadata = metadata || {};\n    this._tags = tags || {};\n    if (data !== undefined) {\n      if ((0, _isArray.default)(data)) {\n        this._data = ParseFile.encodeBase64(data);\n        this._source = {\n          format: 'base64',\n          base64: this._data,\n          type: specifiedType\n        };\n      } else if (typeof Blob !== 'undefined' && data instanceof Blob) {\n        this._source = {\n          format: 'file',\n          file: data,\n          type: specifiedType\n        };\n      } else if (data && typeof data.uri === 'string' && data.uri !== undefined) {\n        this._source = {\n          format: 'uri',\n          uri: data.uri,\n          type: specifiedType\n        };\n      } else if (data && typeof data.base64 === 'string') {\n        var _context, _context2, _context3;\n        var base64 = (0, _slice.default)(_context = data.base64.split(',')).call(_context, -1)[0];\n        var dataType = specifiedType || (0, _slice.default)(_context2 = (0, _slice.default)(_context3 = data.base64.split(';')).call(_context3, 0, 1)[0].split(':')).call(_context2, 1, 2)[0] || 'text/plain';\n        this._data = base64;\n        this._source = {\n          format: 'base64',\n          base64: base64,\n          type: dataType\n        };\n      } else {\n        throw new TypeError('Cannot create a Parse.File with that data.');\n      }\n    }\n  }\n  /**\n   * Return the data for the file, downloading it if not already present.\n   * Data is present if initialized with Byte Array, Base64 or Saved with Uri.\n   * Data is cleared if saved with File object selected with a file upload control\n   *\n   * @returns {Promise} Promise that is resolve with base64 data\n   */\n\n  (0, _createClass2.default)(ParseFile, [{\n    key: \"getData\",\n    value: function () {\n      var _getData = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var _this = this;\n        var options, controller, result;\n        return _regeneratorRuntime().wrap(function (_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!this._data) {\n                  _context4.next = 2;\n                  break;\n                }\n                return _context4.abrupt(\"return\", this._data);\n              case 2:\n                if (this._url) {\n                  _context4.next = 4;\n                  break;\n                }\n                throw new Error('Cannot retrieve data for unsaved ParseFile.');\n              case 4:\n                options = {\n                  requestTask: function (task) {\n                    return _this._requestTask = task;\n                  }\n                };\n                controller = _CoreManager.default.getFileController();\n                _context4.next = 8;\n                return controller.download(this._url, options);\n              case 8:\n                result = _context4.sent;\n                this._data = result.base64;\n                return _context4.abrupt(\"return\", this._data);\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n      function getData() {\n        return _getData.apply(this, arguments);\n      }\n      return getData;\n    }()\n    /**\n     * Gets the name of the file. Before save is called, this is the filename\n     * given by the user. After save is called, that name gets prefixed with a\n     * unique identifier.\n     *\n     * @returns {string}\n     */\n  }, {\n    key: \"name\",\n    value: function () /*: string*/\n    {\n      return this._name;\n    }\n    /**\n     * Gets the url of the file. It is only available after you save the file or\n     * after you get the file from a Parse.Object.\n     *\n     * @param {object} options An object to specify url options\n     * @returns {string}\n     */\n  }, {\n    key: \"url\",\n    value: function (options\n    /*:: ?: { forceSecure?: boolean }*/) /*: ?string*/\n    {\n      options = options || {};\n      if (!this._url) {\n        return;\n      }\n      if (options.forceSecure) {\n        return this._url.replace(/^http:\\/\\//i, 'https://');\n      } else {\n        return this._url;\n      }\n    }\n    /**\n     * Gets the metadata of the file.\n     *\n     * @returns {object}\n     */\n  }, {\n    key: \"metadata\",\n    value: function () /*: Object*/\n    {\n      return this._metadata;\n    }\n    /**\n     * Gets the tags of the file.\n     *\n     * @returns {object}\n     */\n  }, {\n    key: \"tags\",\n    value: function () /*: Object*/\n    {\n      return this._tags;\n    }\n    /**\n     * Saves the file to the Parse cloud.\n     *\n     * @param {object} options\n     *  * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *     behalf of a specific user.\n     *   <li>progress: In Browser only, callback for upload progress. For example:\n     * <pre>\n     * let parseFile = new Parse.File(name, file);\n     * parseFile.save({\n     *   progress: (progressValue, loaded, total, { type }) => {\n     *     if (type === \"upload\" && progressValue !== null) {\n     *       // Update the UI using progressValue\n     *     }\n     *   }\n     * });\n     * </pre>\n     * </ul>\n     * @returns {Promise} Promise that is resolved when the save finishes.\n     */\n  }, {\n    key: \"save\",\n    value: function (options\n    /*:: ?: FullOptions*/) {\n      var _this2 = this;\n      options = options || {};\n      options.requestTask = function (task) {\n        return _this2._requestTask = task;\n      };\n      options.metadata = this._metadata;\n      options.tags = this._tags;\n      var controller = _CoreManager.default.getFileController();\n      if (!this._previousSave) {\n        if (this._source.format === 'file') {\n          this._previousSave = controller.saveFile(this._name, this._source, options).then(function (res) {\n            _this2._name = res.name;\n            _this2._url = res.url;\n            _this2._data = null;\n            _this2._requestTask = null;\n            return _this2;\n          });\n        } else if (this._source.format === 'uri') {\n          this._previousSave = controller.download(this._source.uri, options).then(function (result) {\n            if (!(result && result.base64)) {\n              return {};\n            }\n            var newSource = {\n              format: 'base64',\n              base64: result.base64,\n              type: result.contentType\n            };\n            _this2._data = result.base64;\n            _this2._requestTask = null;\n            return controller.saveBase64(_this2._name, newSource, options);\n          }).then(function (res) {\n            _this2._name = res.name;\n            _this2._url = res.url;\n            _this2._requestTask = null;\n            return _this2;\n          });\n        } else {\n          this._previousSave = controller.saveBase64(this._name, this._source, options).then(function (res) {\n            _this2._name = res.name;\n            _this2._url = res.url;\n            _this2._requestTask = null;\n            return _this2;\n          });\n        }\n      }\n      if (this._previousSave) {\n        return this._previousSave;\n      }\n    }\n    /**\n     * Aborts the request if it has already been sent.\n     */\n  }, {\n    key: \"cancel\",\n    value: function () {\n      if (this._requestTask && typeof this._requestTask.abort === 'function') {\n        this._requestTask.abort();\n      }\n      this._requestTask = null;\n    }\n    /**\n     * Deletes the file from the Parse cloud.\n     * In Cloud Code and Node only with Master Key.\n     *\n     * @param {object} options\n     *  * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     * <pre>\n     * @returns {Promise} Promise that is resolved when the delete finishes.\n     */\n  }, {\n    key: \"destroy\",\n    value: function () {\n      var _this3 = this;\n      var options\n      /*:: ?: FullOptions*/ = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      if (!this._name) {\n        throw new ParseError(ParseError.FILE_DELETE_UNNAMED_ERROR, 'Cannot delete an unnamed file.');\n      }\n      var destroyOptions = {\n        useMasterKey: true\n      };\n      if (options.hasOwnProperty('useMasterKey')) {\n        destroyOptions.useMasterKey = options.useMasterKey;\n      }\n      var controller = _CoreManager.default.getFileController();\n      return controller.deleteFile(this._name, destroyOptions).then(function () {\n        _this3._data = null;\n        _this3._requestTask = null;\n        return _this3;\n      });\n    }\n  }, {\n    key: \"toJSON\",\n    value: function () /*: { name: ?string, url: ?string }*/\n    {\n      return {\n        __type: 'File',\n        name: this._name,\n        url: this._url\n      };\n    }\n  }, {\n    key: \"equals\",\n    value: function (other\n    /*: mixed*/) /*: boolean*/\n    {\n      if (this === other) {\n        return true;\n      } // Unsaved Files are never equal, since they will be saved to different URLs\n\n      return other instanceof ParseFile && this.name() === other.name() && this.url() === other.url() && typeof this.url() !== 'undefined';\n    }\n    /**\n     * Sets metadata to be saved with file object. Overwrites existing metadata\n     *\n     * @param {object} metadata Key value pairs to be stored with file object\n     */\n  }, {\n    key: \"setMetadata\",\n    value: function (metadata\n    /*: any*/) {\n      var _this4 = this;\n      if (metadata && (0, _typeof2.default)(metadata) === 'object') {\n        var _context5;\n        (0, _forEach.default)(_context5 = (0, _keys.default)(metadata)).call(_context5, function (key) {\n          _this4.addMetadata(key, metadata[key]);\n        });\n      }\n    }\n    /**\n     * Sets metadata to be saved with file object. Adds to existing metadata.\n     *\n     * @param {string} key key to store the metadata\n     * @param {*} value metadata\n     */\n  }, {\n    key: \"addMetadata\",\n    value: function (key\n    /*: string*/, value\n    /*: any*/) {\n      if (typeof key === 'string') {\n        this._metadata[key] = value;\n      }\n    }\n    /**\n     * Sets tags to be saved with file object. Overwrites existing tags\n     *\n     * @param {object} tags Key value pairs to be stored with file object\n     */\n  }, {\n    key: \"setTags\",\n    value: function (tags\n    /*: any*/) {\n      var _this5 = this;\n      if (tags && (0, _typeof2.default)(tags) === 'object') {\n        var _context6;\n        (0, _forEach.default)(_context6 = (0, _keys.default)(tags)).call(_context6, function (key) {\n          _this5.addTag(key, tags[key]);\n        });\n      }\n    }\n    /**\n     * Sets tags to be saved with file object. Adds to existing tags.\n     *\n     * @param {string} key key to store tags\n     * @param {*} value tag\n     */\n  }, {\n    key: \"addTag\",\n    value: function (key\n    /*: string*/, value\n    /*: string*/) {\n      if (typeof key === 'string') {\n        this._tags[key] = value;\n      }\n    }\n  }], [{\n    key: \"fromJSON\",\n    value: function (obj) /*: ParseFile*/\n    {\n      if (obj.__type !== 'File') {\n        throw new TypeError('JSON object does not represent a ParseFile');\n      }\n      var file = new ParseFile(obj.name);\n      file._url = obj.url;\n      return file;\n    }\n  }, {\n    key: \"encodeBase64\",\n    value: function (bytes\n    /*: Array<number>*/) /*: string*/\n    {\n      var chunks = [];\n      chunks.length = Math.ceil(bytes.length / 3);\n      for (var i = 0; i < chunks.length; i++) {\n        var b1 = bytes[i * 3];\n        var b2 = bytes[i * 3 + 1] || 0;\n        var b3 = bytes[i * 3 + 2] || 0;\n        var has2 = i * 3 + 1 < bytes.length;\n        var has3 = i * 3 + 2 < bytes.length;\n        chunks[i] = [b64Digit(b1 >> 2 & 0x3f), b64Digit(b1 << 4 & 0x30 | b2 >> 4 & 0x0f), has2 ? b64Digit(b2 << 2 & 0x3c | b3 >> 6 & 0x03) : '=', has3 ? b64Digit(b3 & 0x3f) : '='].join('');\n      }\n      return chunks.join('');\n    }\n  }]);\n  return ParseFile;\n}();\nvar DefaultController = {\n  saveFile: function () {\n    var _saveFile = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(name\n    /*: string*/, source\n    /*: FileSource*/, options\n    /*:: ?: FullOptions*/) {\n      var base64Data, _base64Data$split, _base64Data$split2, first, second, data, newSource;\n      return _regeneratorRuntime().wrap(function _callee2$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              if (!(source.format !== 'file')) {\n                _context7.next = 2;\n                break;\n              }\n              throw new Error('saveFile can only be used with File-type sources.');\n            case 2:\n              _context7.next = 4;\n              return new _promise.default(function (res, rej) {\n                // eslint-disable-next-line no-undef\n                var reader = new FileReader();\n                reader.onload = function () {\n                  return res(reader.result);\n                };\n                reader.onerror = function (error) {\n                  return rej(error);\n                };\n                reader.readAsDataURL(source.file);\n              });\n            case 4:\n              base64Data = _context7.sent; // we only want the data after the comma\n              // For example: \"data:application/pdf;base64,JVBERi0xLjQKJ...\" we would only want \"JVBERi0xLjQKJ...\"\n\n              _base64Data$split = base64Data.split(','), _base64Data$split2 = (0, _slicedToArray2.default)(_base64Data$split, 2), first = _base64Data$split2[0], second = _base64Data$split2[1]; // in the event there is no 'data:application/pdf;base64,' at the beginning of the base64 string\n              // use the entire string instead\n\n              data = second ? second : first;\n              newSource = {\n                format: 'base64',\n                base64: data,\n                type: source.type || (source.file ? source.file.type : null)\n              };\n              _context7.next = 10;\n              return DefaultController.saveBase64(name, newSource, options);\n            case 10:\n              return _context7.abrupt(\"return\", _context7.sent);\n            case 11:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    function saveFile(_x, _x2, _x3) {\n      return _saveFile.apply(this, arguments);\n    }\n    return saveFile;\n  }(),\n  saveBase64: function saveBase64(name\n  /*: string*/, source\n  /*: FileSource*/, options\n  /*:: ?: FullOptions*/) {\n    if (source.format !== 'base64') {\n      throw new Error('saveBase64 can only be used with Base64-type sources.');\n    }\n    var data\n    /*: { base64: any, _ContentType?: any, fileData: Object }*/ = {\n      base64: source.base64,\n      fileData: {\n        metadata: _objectSpread({}, options.metadata),\n        tags: _objectSpread({}, options.tags)\n      }\n    };\n    delete options.metadata;\n    delete options.tags;\n    if (source.type) {\n      data._ContentType = source.type;\n    }\n    var path = 'files/' + name;\n    return _CoreManager.default.getRESTController().request('POST', path, data, options);\n  },\n  download: function download(uri, options) {\n    if (XHR) {\n      return this.downloadAjax(uri, options);\n    } else {\n      return _promise.default.reject('Cannot make a request: No definition of XMLHttpRequest was found.');\n    }\n  },\n  downloadAjax: function downloadAjax(uri, options) {\n    return new _promise.default(function (resolve, reject) {\n      var xhr = new XHR();\n      xhr.open('GET', uri, true);\n      xhr.responseType = 'arraybuffer';\n      xhr.onerror = function (e) {\n        reject(e);\n      };\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState !== xhr.DONE) {\n          return;\n        }\n        if (!this.response) {\n          return resolve({});\n        }\n        var bytes = new Uint8Array(this.response);\n        resolve({\n          base64: ParseFile.encodeBase64(bytes),\n          contentType: xhr.getResponseHeader('content-type')\n        });\n      };\n      options.requestTask(xhr);\n      xhr.send();\n    });\n  },\n  deleteFile: function deleteFile(name\n  /*: string*/, options\n  /*:: ?: FullOptions*/) {\n    var headers = {\n      'X-Parse-Application-ID': _CoreManager.default.get('APPLICATION_ID')\n    };\n    if (options.useMasterKey) {\n      headers['X-Parse-Master-Key'] = _CoreManager.default.get('MASTER_KEY');\n    }\n    var url = _CoreManager.default.get('SERVER_URL');\n    if (url[url.length - 1] !== '/') {\n      url += '/';\n    }\n    url += 'files/' + name;\n    return _CoreManager.default.getRESTController().ajax('DELETE', url, '', headers).catch(function (response) {\n      // TODO: return JSON object in server\n      if (!response || response === 'SyntaxError: Unexpected end of JSON input') {\n        return _promise.default.resolve();\n      } else {\n        return _CoreManager.default.getRESTController().handleError(response);\n      }\n    });\n  },\n  _setXHR: function _setXHR(xhr\n  /*: any*/) {\n    XHR = xhr;\n  },\n  _getXHR: function _getXHR() {\n    return XHR;\n  }\n};\n_CoreManager.default.setFileController(DefaultController);\nvar _default = ParseFile;\nexports.default = _default;\nexports.b64Digit = b64Digit;","map":{"version":3,"names":["_interopRequireDefault","require","_Object$defineProperties","_Object$getOwnPropertyDescriptors","_Object$getOwnPropertyDescriptor","_filterInstanceProperty","_Object$getOwnPropertySymbols","_Object$keys2","_sliceInstanceProperty2","_reverseInstanceProperty","_Promise2","_Object$setPrototypeOf","_typeof3","_forEachInstanceProperty2","_Object$getPrototypeOf","_Object$create","_Object$defineProperty","_Symbol","exports","value","default","_indexOf","_slicedToArray2","_promise","_keys","_forEach","_typeof2","_asyncToGenerator2","_slice","_isArray","_classCallCheck2","_createClass2","_defineProperty2","_CoreManager","ownKeys","object","enumerableOnly","keys","symbols","call","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","_context10","_context11","source","Object","key","_regeneratorRuntime","Op","prototype","hasOwn","hasOwnProperty","$Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","state","method","arg","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","done","fn","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","defineIteratorMethods","_context8","AsyncIterator","PromiseImpl","invoke","resolve","reject","result","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","undefined","return","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","__proto__","awrap","async","iter","pop","skipTempReset","_context9","prev","charAt","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","ParseError","XHR","XMLHttpRequest","b64Digit","number","String","fromCharCode","ParseFile","data","metadata","tags","specifiedType","_name","_metadata","_tags","_data","encodeBase64","_source","format","base64","Blob","file","uri","_context","_context2","_context3","split","dataType","_getData","_callee","_this","options","controller","_context4","_url","requestTask","task","_requestTask","getFileController","download","getData","forceSecure","replace","_this2","_previousSave","saveFile","res","url","newSource","contentType","saveBase64","abort","_this3","FILE_DELETE_UNNAMED_ERROR","destroyOptions","useMasterKey","deleteFile","__type","other","_this4","_context5","addMetadata","_this5","_context6","addTag","bytes","chunks","Math","ceil","b1","b2","b3","has2","has3","join","DefaultController","_saveFile","_callee2","base64Data","_base64Data$split","_base64Data$split2","first","second","_callee2$","_context7","rej","reader","FileReader","onload","onerror","readAsDataURL","_x","_x2","_x3","fileData","_ContentType","path","getRESTController","request","downloadAjax","xhr","open","responseType","e","onreadystatechange","readyState","DONE","response","Uint8Array","getResponseHeader","send","headers","get","ajax","handleError","_setXHR","_getXHR","setFileController","_default"],"sources":["/Users/nnwhalen/Desktop/NOTREDAME/web dev/node_modules/parse/lib/browser/ParseFile.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _Object$defineProperties = require(\"@babel/runtime-corejs3/core-js-stable/object/define-properties\");\n\nvar _Object$getOwnPropertyDescriptors = require(\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptors\");\n\nvar _Object$getOwnPropertyDescriptor = require(\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor\");\n\nvar _filterInstanceProperty = require(\"@babel/runtime-corejs3/core-js-stable/instance/filter\");\n\nvar _Object$getOwnPropertySymbols = require(\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-symbols\");\n\nvar _Object$keys2 = require(\"@babel/runtime-corejs3/core-js-stable/object/keys\");\n\nvar _sliceInstanceProperty2 = require(\"@babel/runtime-corejs3/core-js-stable/instance/slice\");\n\nvar _reverseInstanceProperty = require(\"@babel/runtime-corejs3/core-js-stable/instance/reverse\");\n\nvar _Promise2 = require(\"@babel/runtime-corejs3/core-js-stable/promise\");\n\nvar _Object$setPrototypeOf = require(\"@babel/runtime-corejs3/core-js-stable/object/set-prototype-of\");\n\nvar _typeof3 = require(\"@babel/runtime-corejs3/helpers/typeof\");\n\nvar _forEachInstanceProperty2 = require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\");\n\nvar _Object$getPrototypeOf = require(\"@babel/runtime-corejs3/core-js-stable/object/get-prototype-of\");\n\nvar _Object$create = require(\"@babel/runtime-corejs3/core-js-stable/object/create\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\nvar _Symbol = require(\"@babel/runtime-corejs3/core-js-stable/symbol\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = void 0;\n\nvar _indexOf = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/index-of\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/slicedToArray\"));\n\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\"));\n\nvar _keys = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/keys\"));\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/typeof\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _slice = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/slice\"));\n\nvar _isArray = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/defineProperty\"));\n\nvar _CoreManager = _interopRequireDefault(require(\"./CoreManager\"));\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = _Object$keys2(object);\n\n  if (_Object$getOwnPropertySymbols) {\n    var symbols = _Object$getOwnPropertySymbols(object);\n\n    enumerableOnly && (symbols = _filterInstanceProperty(symbols).call(symbols, function (sym) {\n      return _Object$getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var _context10, _context11;\n\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? _forEachInstanceProperty2(_context10 = ownKeys(Object(source), !0)).call(_context10, function (key) {\n      (0, _defineProperty2.default)(target, key, source[key]);\n    }) : _Object$getOwnPropertyDescriptors ? _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)) : _forEachInstanceProperty2(_context11 = ownKeys(Object(source))).call(_context11, function (key) {\n      _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _regeneratorRuntime() {\n  \"use strict\";\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n\n  _regeneratorRuntime = function () {\n    return exports;\n  };\n\n  var exports = {},\n      Op = Object.prototype,\n      hasOwn = Op.hasOwnProperty,\n      $Symbol = \"function\" == typeof _Symbol ? _Symbol : {},\n      iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n      asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n      toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    return _Object$defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function (obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n        generator = _Object$create(protoGenerator.prototype),\n        context = new Context(tryLocsList || []);\n\n    return generator._invoke = function (innerFn, self, context) {\n      var state = \"suspendedStart\";\n      return function (method, arg) {\n        if (\"executing\" === state) throw new Error(\"Generator is already running\");\n\n        if (\"completed\" === state) {\n          if (\"throw\" === method) throw arg;\n          return doneResult();\n        }\n\n        for (context.method = method, context.arg = arg;;) {\n          var delegate = context.delegate;\n\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n\n          if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n            if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n            context.dispatchException(context.arg);\n          } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n          state = \"executing\";\n          var record = tryCatch(innerFn, self, context);\n\n          if (\"normal\" === record.type) {\n            if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          }\n\n          \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n        }\n      };\n    }(innerFn, self, context), generator;\n  }\n\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n\n  function Generator() {}\n\n  function GeneratorFunction() {}\n\n  function GeneratorFunctionPrototype() {}\n\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = _Object$getPrototypeOf,\n      NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = _Object$create(IteratorPrototype);\n\n  function defineIteratorMethods(prototype) {\n    var _context8;\n\n    _forEachInstanceProperty2(_context8 = [\"next\", \"throw\", \"return\"]).call(_context8, function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n            value = result.value;\n        return value && \"object\" == _typeof3(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n\n      reject(record.arg);\n    }\n\n    var previousPromise;\n\n    this._invoke = function (method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    };\n  }\n\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator.return && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], _forEachInstanceProperty2(tryLocsList).call(tryLocsList, pushTryEntry, this), this.reset(!0);\n  }\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n            next = function next() {\n          for (; ++i < iterable.length;) {\n            if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n          }\n\n          return next.value = undefined, next.done = !0, next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    return {\n      next: doneResult\n    };\n  }\n\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return _Object$setPrototypeOf ? _Object$setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = _Object$create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = _Promise2);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (object) {\n    var keys = [];\n\n    for (var key in object) {\n      keys.push(key);\n    }\n\n    return _reverseInstanceProperty(keys).call(keys), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function (skipTempReset) {\n      var _context9;\n\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, _forEachInstanceProperty2(_context9 = this.tryEntries).call(_context9, resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+_sliceInstanceProperty2(name).call(name, 1)) && (this[name] = undefined);\n      }\n    },\n    stop: function () {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function (exception) {\n      if (this.done) throw exception;\n      var context = this;\n\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n            record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n              hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function (type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function (record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function (finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    catch: function (tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n\n          return thrown;\n        }\n      }\n\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function (iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\n\nvar ParseError = require('./ParseError').default;\n\nvar XHR = null;\n\nif (typeof XMLHttpRequest !== 'undefined') {\n  XHR = XMLHttpRequest;\n}\n\n/*:: type Base64 = { base64: string };*/\n\n/*:: type Uri = { uri: string };*/\n\n/*:: type FileData = Array<number> | Base64 | Blob | Uri;*/\n\n/*:: export type FileSource =\n  | {\n      format: 'file',\n      file: Blob,\n      type: string,\n    }\n  | {\n      format: 'base64',\n      base64: string,\n      type: string,\n    }\n  | {\n      format: 'uri',\n      uri: string,\n      type: string,\n    };*/\nfunction b64Digit(number\n/*: number*/\n)\n/*: string*/\n{\n  if (number < 26) {\n    return String.fromCharCode(65 + number);\n  }\n\n  if (number < 52) {\n    return String.fromCharCode(97 + (number - 26));\n  }\n\n  if (number < 62) {\n    return String.fromCharCode(48 + (number - 52));\n  }\n\n  if (number === 62) {\n    return '+';\n  }\n\n  if (number === 63) {\n    return '/';\n  }\n\n  throw new TypeError('Tried to encode large digit ' + number + ' in base64.');\n}\n/**\n * A Parse.File is a local representation of a file that is saved to the Parse\n * cloud.\n *\n * @alias Parse.File\n */\n\n\nvar ParseFile = /*#__PURE__*/function () {\n  /**\n   * @param name {String} The file's name. This will be prefixed by a unique\n   *     value once the file has finished saving. The file name must begin with\n   *     an alphanumeric character, and consist of alphanumeric characters,\n   *     periods, spaces, underscores, or dashes.\n   * @param data {Array} The data for the file, as either:\n   *     1. an Array of byte value Numbers, or\n   *     2. an Object like { base64: \"...\" } with a base64-encoded String.\n   *     3. an Object like { uri: \"...\" } with a uri String.\n   *     4. a File object selected with a file upload control. (3) only works\n   *        in Firefox 3.6+, Safari 6.0.2+, Chrome 7+, and IE 10+.\n   *        For example:\n   * <pre>\n   * var fileUploadControl = $(\"#profilePhotoFileUpload\")[0];\n   * if (fileUploadControl.files.length > 0) {\n   *   var file = fileUploadControl.files[0];\n   *   var name = \"photo.jpg\";\n   *   var parseFile = new Parse.File(name, file);\n   *   parseFile.save().then(function() {\n   *     // The file has been saved to Parse.\n   *   }, function(error) {\n   *     // The file either could not be read, or could not be saved to Parse.\n   *   });\n   * }</pre>\n   * @param type {String} Optional Content-Type header to use for the file. If\n   *     this is omitted, the content type will be inferred from the name's\n   *     extension.\n   * @param metadata {Object} Optional key value pairs to be stored with file object\n   * @param tags {Object} Optional key value pairs to be stored with file object\n   */\n  function ParseFile(name\n  /*: string*/\n  , data\n  /*:: ?: FileData*/\n  , type\n  /*:: ?: string*/\n  , metadata\n  /*:: ?: Object*/\n  , tags\n  /*:: ?: Object*/\n  ) {\n    (0, _classCallCheck2.default)(this, ParseFile);\n    (0, _defineProperty2.default)(this, \"_name\", void 0);\n    (0, _defineProperty2.default)(this, \"_url\", void 0);\n    (0, _defineProperty2.default)(this, \"_source\", void 0);\n    (0, _defineProperty2.default)(this, \"_previousSave\", void 0);\n    (0, _defineProperty2.default)(this, \"_data\", void 0);\n    (0, _defineProperty2.default)(this, \"_requestTask\", void 0);\n    (0, _defineProperty2.default)(this, \"_metadata\", void 0);\n    (0, _defineProperty2.default)(this, \"_tags\", void 0);\n    var specifiedType = type || '';\n    this._name = name;\n    this._metadata = metadata || {};\n    this._tags = tags || {};\n\n    if (data !== undefined) {\n      if ((0, _isArray.default)(data)) {\n        this._data = ParseFile.encodeBase64(data);\n        this._source = {\n          format: 'base64',\n          base64: this._data,\n          type: specifiedType\n        };\n      } else if (typeof Blob !== 'undefined' && data instanceof Blob) {\n        this._source = {\n          format: 'file',\n          file: data,\n          type: specifiedType\n        };\n      } else if (data && typeof data.uri === 'string' && data.uri !== undefined) {\n        this._source = {\n          format: 'uri',\n          uri: data.uri,\n          type: specifiedType\n        };\n      } else if (data && typeof data.base64 === 'string') {\n        var _context, _context2, _context3;\n\n        var base64 = (0, _slice.default)(_context = data.base64.split(',')).call(_context, -1)[0];\n        var dataType = specifiedType || (0, _slice.default)(_context2 = (0, _slice.default)(_context3 = data.base64.split(';')).call(_context3, 0, 1)[0].split(':')).call(_context2, 1, 2)[0] || 'text/plain';\n        this._data = base64;\n        this._source = {\n          format: 'base64',\n          base64: base64,\n          type: dataType\n        };\n      } else {\n        throw new TypeError('Cannot create a Parse.File with that data.');\n      }\n    }\n  }\n  /**\n   * Return the data for the file, downloading it if not already present.\n   * Data is present if initialized with Byte Array, Base64 or Saved with Uri.\n   * Data is cleared if saved with File object selected with a file upload control\n   *\n   * @returns {Promise} Promise that is resolve with base64 data\n   */\n\n\n  (0, _createClass2.default)(ParseFile, [{\n    key: \"getData\",\n    value: function () {\n      var _getData = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var _this = this;\n\n        var options, controller, result;\n        return _regeneratorRuntime().wrap(function (_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!this._data) {\n                  _context4.next = 2;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\", this._data);\n\n              case 2:\n                if (this._url) {\n                  _context4.next = 4;\n                  break;\n                }\n\n                throw new Error('Cannot retrieve data for unsaved ParseFile.');\n\n              case 4:\n                options = {\n                  requestTask: function (task) {\n                    return _this._requestTask = task;\n                  }\n                };\n                controller = _CoreManager.default.getFileController();\n                _context4.next = 8;\n                return controller.download(this._url, options);\n\n              case 8:\n                result = _context4.sent;\n                this._data = result.base64;\n                return _context4.abrupt(\"return\", this._data);\n\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getData() {\n        return _getData.apply(this, arguments);\n      }\n\n      return getData;\n    }()\n    /**\n     * Gets the name of the file. Before save is called, this is the filename\n     * given by the user. After save is called, that name gets prefixed with a\n     * unique identifier.\n     *\n     * @returns {string}\n     */\n\n  }, {\n    key: \"name\",\n    value: function ()\n    /*: string*/\n    {\n      return this._name;\n    }\n    /**\n     * Gets the url of the file. It is only available after you save the file or\n     * after you get the file from a Parse.Object.\n     *\n     * @param {object} options An object to specify url options\n     * @returns {string}\n     */\n\n  }, {\n    key: \"url\",\n    value: function (options\n    /*:: ?: { forceSecure?: boolean }*/\n    )\n    /*: ?string*/\n    {\n      options = options || {};\n\n      if (!this._url) {\n        return;\n      }\n\n      if (options.forceSecure) {\n        return this._url.replace(/^http:\\/\\//i, 'https://');\n      } else {\n        return this._url;\n      }\n    }\n    /**\n     * Gets the metadata of the file.\n     *\n     * @returns {object}\n     */\n\n  }, {\n    key: \"metadata\",\n    value: function ()\n    /*: Object*/\n    {\n      return this._metadata;\n    }\n    /**\n     * Gets the tags of the file.\n     *\n     * @returns {object}\n     */\n\n  }, {\n    key: \"tags\",\n    value: function ()\n    /*: Object*/\n    {\n      return this._tags;\n    }\n    /**\n     * Saves the file to the Parse cloud.\n     *\n     * @param {object} options\n     *  * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     *   <li>sessionToken: A valid session token, used for making a request on\n     *     behalf of a specific user.\n     *   <li>progress: In Browser only, callback for upload progress. For example:\n     * <pre>\n     * let parseFile = new Parse.File(name, file);\n     * parseFile.save({\n     *   progress: (progressValue, loaded, total, { type }) => {\n     *     if (type === \"upload\" && progressValue !== null) {\n     *       // Update the UI using progressValue\n     *     }\n     *   }\n     * });\n     * </pre>\n     * </ul>\n     * @returns {Promise} Promise that is resolved when the save finishes.\n     */\n\n  }, {\n    key: \"save\",\n    value: function (options\n    /*:: ?: FullOptions*/\n    ) {\n      var _this2 = this;\n\n      options = options || {};\n\n      options.requestTask = function (task) {\n        return _this2._requestTask = task;\n      };\n\n      options.metadata = this._metadata;\n      options.tags = this._tags;\n\n      var controller = _CoreManager.default.getFileController();\n\n      if (!this._previousSave) {\n        if (this._source.format === 'file') {\n          this._previousSave = controller.saveFile(this._name, this._source, options).then(function (res) {\n            _this2._name = res.name;\n            _this2._url = res.url;\n            _this2._data = null;\n            _this2._requestTask = null;\n            return _this2;\n          });\n        } else if (this._source.format === 'uri') {\n          this._previousSave = controller.download(this._source.uri, options).then(function (result) {\n            if (!(result && result.base64)) {\n              return {};\n            }\n\n            var newSource = {\n              format: 'base64',\n              base64: result.base64,\n              type: result.contentType\n            };\n            _this2._data = result.base64;\n            _this2._requestTask = null;\n            return controller.saveBase64(_this2._name, newSource, options);\n          }).then(function (res) {\n            _this2._name = res.name;\n            _this2._url = res.url;\n            _this2._requestTask = null;\n            return _this2;\n          });\n        } else {\n          this._previousSave = controller.saveBase64(this._name, this._source, options).then(function (res) {\n            _this2._name = res.name;\n            _this2._url = res.url;\n            _this2._requestTask = null;\n            return _this2;\n          });\n        }\n      }\n\n      if (this._previousSave) {\n        return this._previousSave;\n      }\n    }\n    /**\n     * Aborts the request if it has already been sent.\n     */\n\n  }, {\n    key: \"cancel\",\n    value: function () {\n      if (this._requestTask && typeof this._requestTask.abort === 'function') {\n        this._requestTask.abort();\n      }\n\n      this._requestTask = null;\n    }\n    /**\n     * Deletes the file from the Parse cloud.\n     * In Cloud Code and Node only with Master Key.\n     *\n     * @param {object} options\n     *  * Valid options are:<ul>\n     *   <li>useMasterKey: In Cloud Code and Node only, causes the Master Key to\n     *     be used for this request.\n     * <pre>\n     * @returns {Promise} Promise that is resolved when the delete finishes.\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function () {\n      var _this3 = this;\n\n      var options\n      /*:: ?: FullOptions*/\n      = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (!this._name) {\n        throw new ParseError(ParseError.FILE_DELETE_UNNAMED_ERROR, 'Cannot delete an unnamed file.');\n      }\n\n      var destroyOptions = {\n        useMasterKey: true\n      };\n\n      if (options.hasOwnProperty('useMasterKey')) {\n        destroyOptions.useMasterKey = options.useMasterKey;\n      }\n\n      var controller = _CoreManager.default.getFileController();\n\n      return controller.deleteFile(this._name, destroyOptions).then(function () {\n        _this3._data = null;\n        _this3._requestTask = null;\n        return _this3;\n      });\n    }\n  }, {\n    key: \"toJSON\",\n    value: function ()\n    /*: { name: ?string, url: ?string }*/\n    {\n      return {\n        __type: 'File',\n        name: this._name,\n        url: this._url\n      };\n    }\n  }, {\n    key: \"equals\",\n    value: function (other\n    /*: mixed*/\n    )\n    /*: boolean*/\n    {\n      if (this === other) {\n        return true;\n      } // Unsaved Files are never equal, since they will be saved to different URLs\n\n\n      return other instanceof ParseFile && this.name() === other.name() && this.url() === other.url() && typeof this.url() !== 'undefined';\n    }\n    /**\n     * Sets metadata to be saved with file object. Overwrites existing metadata\n     *\n     * @param {object} metadata Key value pairs to be stored with file object\n     */\n\n  }, {\n    key: \"setMetadata\",\n    value: function (metadata\n    /*: any*/\n    ) {\n      var _this4 = this;\n\n      if (metadata && (0, _typeof2.default)(metadata) === 'object') {\n        var _context5;\n\n        (0, _forEach.default)(_context5 = (0, _keys.default)(metadata)).call(_context5, function (key) {\n          _this4.addMetadata(key, metadata[key]);\n        });\n      }\n    }\n    /**\n     * Sets metadata to be saved with file object. Adds to existing metadata.\n     *\n     * @param {string} key key to store the metadata\n     * @param {*} value metadata\n     */\n\n  }, {\n    key: \"addMetadata\",\n    value: function (key\n    /*: string*/\n    , value\n    /*: any*/\n    ) {\n      if (typeof key === 'string') {\n        this._metadata[key] = value;\n      }\n    }\n    /**\n     * Sets tags to be saved with file object. Overwrites existing tags\n     *\n     * @param {object} tags Key value pairs to be stored with file object\n     */\n\n  }, {\n    key: \"setTags\",\n    value: function (tags\n    /*: any*/\n    ) {\n      var _this5 = this;\n\n      if (tags && (0, _typeof2.default)(tags) === 'object') {\n        var _context6;\n\n        (0, _forEach.default)(_context6 = (0, _keys.default)(tags)).call(_context6, function (key) {\n          _this5.addTag(key, tags[key]);\n        });\n      }\n    }\n    /**\n     * Sets tags to be saved with file object. Adds to existing tags.\n     *\n     * @param {string} key key to store tags\n     * @param {*} value tag\n     */\n\n  }, {\n    key: \"addTag\",\n    value: function (key\n    /*: string*/\n    , value\n    /*: string*/\n    ) {\n      if (typeof key === 'string') {\n        this._tags[key] = value;\n      }\n    }\n  }], [{\n    key: \"fromJSON\",\n    value: function (obj)\n    /*: ParseFile*/\n    {\n      if (obj.__type !== 'File') {\n        throw new TypeError('JSON object does not represent a ParseFile');\n      }\n\n      var file = new ParseFile(obj.name);\n      file._url = obj.url;\n      return file;\n    }\n  }, {\n    key: \"encodeBase64\",\n    value: function (bytes\n    /*: Array<number>*/\n    )\n    /*: string*/\n    {\n      var chunks = [];\n      chunks.length = Math.ceil(bytes.length / 3);\n\n      for (var i = 0; i < chunks.length; i++) {\n        var b1 = bytes[i * 3];\n        var b2 = bytes[i * 3 + 1] || 0;\n        var b3 = bytes[i * 3 + 2] || 0;\n        var has2 = i * 3 + 1 < bytes.length;\n        var has3 = i * 3 + 2 < bytes.length;\n        chunks[i] = [b64Digit(b1 >> 2 & 0x3f), b64Digit(b1 << 4 & 0x30 | b2 >> 4 & 0x0f), has2 ? b64Digit(b2 << 2 & 0x3c | b3 >> 6 & 0x03) : '=', has3 ? b64Digit(b3 & 0x3f) : '='].join('');\n      }\n\n      return chunks.join('');\n    }\n  }]);\n  return ParseFile;\n}();\n\nvar DefaultController = {\n  saveFile: function () {\n    var _saveFile = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(name\n    /*: string*/\n    , source\n    /*: FileSource*/\n    , options\n    /*:: ?: FullOptions*/\n    ) {\n      var base64Data, _base64Data$split, _base64Data$split2, first, second, data, newSource;\n\n      return _regeneratorRuntime().wrap(function _callee2$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              if (!(source.format !== 'file')) {\n                _context7.next = 2;\n                break;\n              }\n\n              throw new Error('saveFile can only be used with File-type sources.');\n\n            case 2:\n              _context7.next = 4;\n              return new _promise.default(function (res, rej) {\n                // eslint-disable-next-line no-undef\n                var reader = new FileReader();\n\n                reader.onload = function () {\n                  return res(reader.result);\n                };\n\n                reader.onerror = function (error) {\n                  return rej(error);\n                };\n\n                reader.readAsDataURL(source.file);\n              });\n\n            case 4:\n              base64Data = _context7.sent; // we only want the data after the comma\n              // For example: \"data:application/pdf;base64,JVBERi0xLjQKJ...\" we would only want \"JVBERi0xLjQKJ...\"\n\n              _base64Data$split = base64Data.split(','), _base64Data$split2 = (0, _slicedToArray2.default)(_base64Data$split, 2), first = _base64Data$split2[0], second = _base64Data$split2[1]; // in the event there is no 'data:application/pdf;base64,' at the beginning of the base64 string\n              // use the entire string instead\n\n              data = second ? second : first;\n              newSource = {\n                format: 'base64',\n                base64: data,\n                type: source.type || (source.file ? source.file.type : null)\n              };\n              _context7.next = 10;\n              return DefaultController.saveBase64(name, newSource, options);\n\n            case 10:\n              return _context7.abrupt(\"return\", _context7.sent);\n\n            case 11:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    function saveFile(_x, _x2, _x3) {\n      return _saveFile.apply(this, arguments);\n    }\n\n    return saveFile;\n  }(),\n  saveBase64: function saveBase64(name\n  /*: string*/\n  , source\n  /*: FileSource*/\n  , options\n  /*:: ?: FullOptions*/\n  ) {\n    if (source.format !== 'base64') {\n      throw new Error('saveBase64 can only be used with Base64-type sources.');\n    }\n\n    var data\n    /*: { base64: any, _ContentType?: any, fileData: Object }*/\n    = {\n      base64: source.base64,\n      fileData: {\n        metadata: _objectSpread({}, options.metadata),\n        tags: _objectSpread({}, options.tags)\n      }\n    };\n    delete options.metadata;\n    delete options.tags;\n\n    if (source.type) {\n      data._ContentType = source.type;\n    }\n\n    var path = 'files/' + name;\n    return _CoreManager.default.getRESTController().request('POST', path, data, options);\n  },\n  download: function download(uri, options) {\n    if (XHR) {\n      return this.downloadAjax(uri, options);\n    } else {\n      return _promise.default.reject('Cannot make a request: No definition of XMLHttpRequest was found.');\n    }\n  },\n  downloadAjax: function downloadAjax(uri, options) {\n    return new _promise.default(function (resolve, reject) {\n      var xhr = new XHR();\n      xhr.open('GET', uri, true);\n      xhr.responseType = 'arraybuffer';\n\n      xhr.onerror = function (e) {\n        reject(e);\n      };\n\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState !== xhr.DONE) {\n          return;\n        }\n\n        if (!this.response) {\n          return resolve({});\n        }\n\n        var bytes = new Uint8Array(this.response);\n        resolve({\n          base64: ParseFile.encodeBase64(bytes),\n          contentType: xhr.getResponseHeader('content-type')\n        });\n      };\n\n      options.requestTask(xhr);\n      xhr.send();\n    });\n  },\n  deleteFile: function deleteFile(name\n  /*: string*/\n  , options\n  /*:: ?: FullOptions*/\n  ) {\n    var headers = {\n      'X-Parse-Application-ID': _CoreManager.default.get('APPLICATION_ID')\n    };\n\n    if (options.useMasterKey) {\n      headers['X-Parse-Master-Key'] = _CoreManager.default.get('MASTER_KEY');\n    }\n\n    var url = _CoreManager.default.get('SERVER_URL');\n\n    if (url[url.length - 1] !== '/') {\n      url += '/';\n    }\n\n    url += 'files/' + name;\n    return _CoreManager.default.getRESTController().ajax('DELETE', url, '', headers).catch(function (response) {\n      // TODO: return JSON object in server\n      if (!response || response === 'SyntaxError: Unexpected end of JSON input') {\n        return _promise.default.resolve();\n      } else {\n        return _CoreManager.default.getRESTController().handleError(response);\n      }\n    });\n  },\n  _setXHR: function _setXHR(xhr\n  /*: any*/\n  ) {\n    XHR = xhr;\n  },\n  _getXHR: function _getXHR() {\n    return XHR;\n  }\n};\n\n_CoreManager.default.setFileController(DefaultController);\n\nvar _default = ParseFile;\nexports.default = _default;\nexports.b64Digit = b64Digit;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}