{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = unsavedChildren;\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\nvar _isArray = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\"));\nvar _indexOf = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/index-of\"));\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/typeof\"));\nvar _ParseFile = _interopRequireDefault(require(\"./ParseFile\"));\nvar _ParseObject = _interopRequireDefault(require(\"./ParseObject\"));\nvar _ParseRelation = _interopRequireDefault(require(\"./ParseRelation\"));\n/**\n * @flow\n */\n\n/**\n * Return an array of unsaved children, which are either Parse Objects or Files.\n * If it encounters any dirty Objects without Ids, it will throw an exception.\n *\n * @param {Parse.Object} obj\n * @param {boolean} allowDeepUnsaved\n * @returns {Array}\n */\n\nfunction unsavedChildren(obj\n/*: ParseObject*/, allowDeepUnsaved\n/*:: ?: boolean*/) /*: Array<ParseFile | ParseObject>*/\n{\n  var encountered = {\n    objects: {},\n    files: []\n  };\n  var identifier = obj.className + ':' + obj._getId();\n  encountered.objects[identifier] = obj.dirty() ? obj : true;\n  var attributes = obj.attributes;\n  for (var attr in attributes) {\n    if ((0, _typeof2.default)(attributes[attr]) === 'object') {\n      traverse(attributes[attr], encountered, false, !!allowDeepUnsaved);\n    }\n  }\n  var unsaved = [];\n  for (var id in encountered.objects) {\n    if (id !== identifier && encountered.objects[id] !== true) {\n      unsaved.push(encountered.objects[id]);\n    }\n  }\n  return (0, _concat.default)(unsaved).call(unsaved, encountered.files);\n}\nfunction traverse(obj\n/*: ParseObject*/, encountered\n/*: EncounterMap*/, shouldThrow\n/*: boolean*/, allowDeepUnsaved\n/*: boolean*/) {\n  if (obj instanceof _ParseObject.default) {\n    if (!obj.id && shouldThrow) {\n      throw new Error('Cannot create a pointer to an unsaved Object.');\n    }\n    var _identifier = obj.className + ':' + obj._getId();\n    if (!encountered.objects[_identifier]) {\n      encountered.objects[_identifier] = obj.dirty() ? obj : true;\n      var attributes = obj.attributes;\n      for (var attr in attributes) {\n        if ((0, _typeof2.default)(attributes[attr]) === 'object') {\n          traverse(attributes[attr], encountered, !allowDeepUnsaved, allowDeepUnsaved);\n        }\n      }\n    }\n    return;\n  }\n  if (obj instanceof _ParseFile.default) {\n    var _context;\n    if (!obj.url() && (0, _indexOf.default)(_context = encountered.files).call(_context, obj) < 0) {\n      encountered.files.push(obj);\n    }\n    return;\n  }\n  if (obj instanceof _ParseRelation.default) {\n    return;\n  }\n  if ((0, _isArray.default)(obj)) {\n    (0, _forEach.default)(obj).call(obj, function (el) {\n      if ((0, _typeof2.default)(el) === 'object') {\n        traverse(el, encountered, shouldThrow, allowDeepUnsaved);\n      }\n    });\n  }\n  for (var k in obj) {\n    if ((0, _typeof2.default)(obj[k]) === 'object') {\n      traverse(obj[k], encountered, shouldThrow, allowDeepUnsaved);\n    }\n  }\n}","map":{"version":3,"names":["_interopRequireDefault","require","_Object$defineProperty","exports","value","default","unsavedChildren","_forEach","_isArray","_indexOf","_concat","_typeof2","_ParseFile","_ParseObject","_ParseRelation","obj","allowDeepUnsaved","encountered","objects","files","identifier","className","_getId","dirty","attributes","attr","traverse","unsaved","id","push","call","shouldThrow","Error","_identifier","_context","url","el","k"],"sources":["/Users/nnwhalen/Desktop/NOTREDAME/web dev/node_modules/parse/lib/browser/unsavedChildren.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = unsavedChildren;\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _isArray = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\"));\n\nvar _indexOf = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/index-of\"));\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/typeof\"));\n\nvar _ParseFile = _interopRequireDefault(require(\"./ParseFile\"));\n\nvar _ParseObject = _interopRequireDefault(require(\"./ParseObject\"));\n\nvar _ParseRelation = _interopRequireDefault(require(\"./ParseRelation\"));\n/**\n * @flow\n */\n\n/**\n * Return an array of unsaved children, which are either Parse Objects or Files.\n * If it encounters any dirty Objects without Ids, it will throw an exception.\n *\n * @param {Parse.Object} obj\n * @param {boolean} allowDeepUnsaved\n * @returns {Array}\n */\n\n\nfunction unsavedChildren(obj\n/*: ParseObject*/\n, allowDeepUnsaved\n/*:: ?: boolean*/\n)\n/*: Array<ParseFile | ParseObject>*/\n{\n  var encountered = {\n    objects: {},\n    files: []\n  };\n\n  var identifier = obj.className + ':' + obj._getId();\n\n  encountered.objects[identifier] = obj.dirty() ? obj : true;\n  var attributes = obj.attributes;\n\n  for (var attr in attributes) {\n    if ((0, _typeof2.default)(attributes[attr]) === 'object') {\n      traverse(attributes[attr], encountered, false, !!allowDeepUnsaved);\n    }\n  }\n\n  var unsaved = [];\n\n  for (var id in encountered.objects) {\n    if (id !== identifier && encountered.objects[id] !== true) {\n      unsaved.push(encountered.objects[id]);\n    }\n  }\n\n  return (0, _concat.default)(unsaved).call(unsaved, encountered.files);\n}\n\nfunction traverse(obj\n/*: ParseObject*/\n, encountered\n/*: EncounterMap*/\n, shouldThrow\n/*: boolean*/\n, allowDeepUnsaved\n/*: boolean*/\n) {\n  if (obj instanceof _ParseObject.default) {\n    if (!obj.id && shouldThrow) {\n      throw new Error('Cannot create a pointer to an unsaved Object.');\n    }\n\n    var _identifier = obj.className + ':' + obj._getId();\n\n    if (!encountered.objects[_identifier]) {\n      encountered.objects[_identifier] = obj.dirty() ? obj : true;\n      var attributes = obj.attributes;\n\n      for (var attr in attributes) {\n        if ((0, _typeof2.default)(attributes[attr]) === 'object') {\n          traverse(attributes[attr], encountered, !allowDeepUnsaved, allowDeepUnsaved);\n        }\n      }\n    }\n\n    return;\n  }\n\n  if (obj instanceof _ParseFile.default) {\n    var _context;\n\n    if (!obj.url() && (0, _indexOf.default)(_context = encountered.files).call(_context, obj) < 0) {\n      encountered.files.push(obj);\n    }\n\n    return;\n  }\n\n  if (obj instanceof _ParseRelation.default) {\n    return;\n  }\n\n  if ((0, _isArray.default)(obj)) {\n    (0, _forEach.default)(obj).call(obj, function (el) {\n      if ((0, _typeof2.default)(el) === 'object') {\n        traverse(el, encountered, shouldThrow, allowDeepUnsaved);\n      }\n    });\n  }\n\n  for (var k in obj) {\n    if ((0, _typeof2.default)(obj[k]) === 'object') {\n      traverse(obj[k], encountered, shouldThrow, allowDeepUnsaved);\n    }\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}