{"ast":null,"code":"/**\n * Work around Safari 14 IndexedDB open bug.\n *\n * Safari has a horrible bug where IDB requests can hang while the browser is starting up. https://bugs.webkit.org/show_bug.cgi?id=226547\n * The only solution is to keep nudging it until it's awake.\n */\nfunction idbReady() {\n  var isSafari = !navigator.userAgentData && /Safari\\//.test(navigator.userAgent) && !/Chrom(e|ium)\\//.test(navigator.userAgent);\n  // No point putting other browsers or older versions of Safari through this mess.\n  if (!isSafari || !indexedDB.databases) return Promise.resolve();\n  var intervalId;\n  return new Promise(function (resolve) {\n    var tryIdb = function () {\n      return indexedDB.databases().finally(resolve);\n    };\n    intervalId = setInterval(tryIdb, 100);\n    tryIdb();\n  }).finally(function () {\n    return clearInterval(intervalId);\n  });\n}\nexport default idbReady;","map":{"version":3,"names":["idbReady","isSafari","navigator","userAgentData","test","userAgent","indexedDB","databases","Promise","resolve","intervalId","tryIdb","finally","setInterval","clearInterval"],"sources":["/Users/nnwhalen/Desktop/NOTREDAME/web dev/node_modules/safari-14-idb-fix/dist/index.js"],"sourcesContent":["/**\n * Work around Safari 14 IndexedDB open bug.\n *\n * Safari has a horrible bug where IDB requests can hang while the browser is starting up. https://bugs.webkit.org/show_bug.cgi?id=226547\n * The only solution is to keep nudging it until it's awake.\n */\nfunction idbReady() {\n    var isSafari = !navigator.userAgentData &&\n        /Safari\\//.test(navigator.userAgent) &&\n        !/Chrom(e|ium)\\//.test(navigator.userAgent);\n    // No point putting other browsers or older versions of Safari through this mess.\n    if (!isSafari || !indexedDB.databases)\n        return Promise.resolve();\n    var intervalId;\n    return new Promise(function (resolve) {\n        var tryIdb = function () { return indexedDB.databases().finally(resolve); };\n        intervalId = setInterval(tryIdb, 100);\n        tryIdb();\n    }).finally(function () { return clearInterval(intervalId); });\n}\n\nexport default idbReady;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,QAAQA,CAAA,EAAG;EAChB,IAAIC,QAAQ,GAAG,CAACC,SAAS,CAACC,aAAa,IACnC,UAAU,CAACC,IAAI,CAACF,SAAS,CAACG,SAAS,CAAC,IACpC,CAAC,gBAAgB,CAACD,IAAI,CAACF,SAAS,CAACG,SAAS,CAAC;EAC/C;EACA,IAAI,CAACJ,QAAQ,IAAI,CAACK,SAAS,CAACC,SAAS,EACjC,OAAOC,OAAO,CAACC,OAAO,CAAC,CAAC;EAC5B,IAAIC,UAAU;EACd,OAAO,IAAIF,OAAO,CAAC,UAAUC,OAAO,EAAE;IAClC,IAAIE,MAAM,GAAG,SAAAA,CAAA,EAAY;MAAE,OAAOL,SAAS,CAACC,SAAS,CAAC,CAAC,CAACK,OAAO,CAACH,OAAO,CAAC;IAAE,CAAC;IAC3EC,UAAU,GAAGG,WAAW,CAACF,MAAM,EAAE,GAAG,CAAC;IACrCA,MAAM,CAAC,CAAC;EACZ,CAAC,CAAC,CAACC,OAAO,CAAC,YAAY;IAAE,OAAOE,aAAa,CAACJ,UAAU,CAAC;EAAE,CAAC,CAAC;AACjE;AAEA,eAAeV,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}