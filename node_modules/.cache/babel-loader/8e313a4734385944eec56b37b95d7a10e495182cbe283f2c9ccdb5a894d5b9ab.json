{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.continueWhile = continueWhile;\nexports.resolvingPromise = resolvingPromise;\nexports.when = when;\nvar _isArray = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\"));\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\")); // Create Deferred Promise\n\nfunction resolvingPromise() {\n  var res;\n  var rej;\n  var promise = new _promise.default(function (resolve, reject) {\n    res = resolve;\n    rej = reject;\n  });\n  promise.resolve = res;\n  promise.reject = rej;\n  return promise;\n}\nfunction when(promises) {\n  var objects;\n  var arrayArgument = (0, _isArray.default)(promises);\n  if (arrayArgument) {\n    objects = promises;\n  } else {\n    objects = arguments;\n  }\n  var total = objects.length;\n  var hadError = false;\n  var results = [];\n  var returnValue = arrayArgument ? [results] : results;\n  var errors = [];\n  results.length = objects.length;\n  errors.length = objects.length;\n  if (total === 0) {\n    return _promise.default.resolve(returnValue);\n  }\n  var promise = new resolvingPromise();\n  var resolveOne = function () {\n    total--;\n    if (total <= 0) {\n      if (hadError) {\n        promise.reject(errors);\n      } else {\n        promise.resolve(returnValue);\n      }\n    }\n  };\n  var chain = function (object, index) {\n    if (object && typeof object.then === 'function') {\n      object.then(function (result) {\n        results[index] = result;\n        resolveOne();\n      }, function (error) {\n        errors[index] = error;\n        hadError = true;\n        resolveOne();\n      });\n    } else {\n      results[index] = object;\n      resolveOne();\n    }\n  };\n  for (var i = 0; i < objects.length; i++) {\n    chain(objects[i], i);\n  }\n  return promise;\n}\nfunction continueWhile(test, emitter) {\n  if (test()) {\n    return emitter().then(function () {\n      return continueWhile(test, emitter);\n    });\n  }\n  return _promise.default.resolve();\n}","map":{"version":3,"names":["_interopRequireDefault","require","_Object$defineProperty","exports","value","continueWhile","resolvingPromise","when","_isArray","_promise","res","rej","promise","default","resolve","reject","promises","objects","arrayArgument","arguments","total","length","hadError","results","returnValue","errors","resolveOne","chain","object","index","then","result","error","i","test","emitter"],"sources":["/Users/nnwhalen/Desktop/NOTREDAME/web dev/node_modules/parse/lib/browser/promiseUtils.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.continueWhile = continueWhile;\nexports.resolvingPromise = resolvingPromise;\nexports.when = when;\n\nvar _isArray = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\"));\n\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\")); // Create Deferred Promise\n\n\nfunction resolvingPromise() {\n  var res;\n  var rej;\n  var promise = new _promise.default(function (resolve, reject) {\n    res = resolve;\n    rej = reject;\n  });\n  promise.resolve = res;\n  promise.reject = rej;\n  return promise;\n}\n\nfunction when(promises) {\n  var objects;\n  var arrayArgument = (0, _isArray.default)(promises);\n\n  if (arrayArgument) {\n    objects = promises;\n  } else {\n    objects = arguments;\n  }\n\n  var total = objects.length;\n  var hadError = false;\n  var results = [];\n  var returnValue = arrayArgument ? [results] : results;\n  var errors = [];\n  results.length = objects.length;\n  errors.length = objects.length;\n\n  if (total === 0) {\n    return _promise.default.resolve(returnValue);\n  }\n\n  var promise = new resolvingPromise();\n\n  var resolveOne = function () {\n    total--;\n\n    if (total <= 0) {\n      if (hadError) {\n        promise.reject(errors);\n      } else {\n        promise.resolve(returnValue);\n      }\n    }\n  };\n\n  var chain = function (object, index) {\n    if (object && typeof object.then === 'function') {\n      object.then(function (result) {\n        results[index] = result;\n        resolveOne();\n      }, function (error) {\n        errors[index] = error;\n        hadError = true;\n        resolveOne();\n      });\n    } else {\n      results[index] = object;\n      resolveOne();\n    }\n  };\n\n  for (var i = 0; i < objects.length; i++) {\n    chain(objects[i], i);\n  }\n\n  return promise;\n}\n\nfunction continueWhile(test, emitter) {\n  if (test()) {\n    return emitter().then(function () {\n      return continueWhile(test, emitter);\n    });\n  }\n\n  return _promise.default.resolve();\n}"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}