{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\"));\nvar _Storage = _interopRequireDefault(require(\"./Storage\"));\n/**\n * @flow\n */\n\nvar uuidv4 = require('./uuid');\nvar iidCache = null;\nvar InstallationController = {\n  currentInstallationId: function () /*: Promise<string>*/\n  {\n    if (typeof iidCache === 'string') {\n      return _promise.default.resolve(iidCache);\n    }\n    var path = _Storage.default.generatePath('installationId');\n    return _Storage.default.getItemAsync(path).then(function (iid) {\n      if (!iid) {\n        iid = uuidv4();\n        return _Storage.default.setItemAsync(path, iid).then(function () {\n          iidCache = iid;\n          return iid;\n        });\n      }\n      iidCache = iid;\n      return iid;\n    });\n  },\n  _clearCache: function () {\n    iidCache = null;\n  },\n  _setInstallationIdCache: function (iid\n  /*: string*/) {\n    iidCache = iid;\n  }\n};\nmodule.exports = InstallationController;","map":{"version":3,"names":["_interopRequireDefault","require","_promise","_Storage","uuidv4","iidCache","InstallationController","currentInstallationId","default","resolve","path","generatePath","getItemAsync","then","iid","setItemAsync","_clearCache","_setInstallationIdCache","module","exports"],"sources":["/Users/nnwhalen/Desktop/NOTREDAME/web dev/node_modules/parse/lib/browser/InstallationController.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\nvar _promise = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/promise\"));\n\nvar _Storage = _interopRequireDefault(require(\"./Storage\"));\n/**\n * @flow\n */\n\n\nvar uuidv4 = require('./uuid');\n\nvar iidCache = null;\nvar InstallationController = {\n  currentInstallationId: function ()\n  /*: Promise<string>*/\n  {\n    if (typeof iidCache === 'string') {\n      return _promise.default.resolve(iidCache);\n    }\n\n    var path = _Storage.default.generatePath('installationId');\n\n    return _Storage.default.getItemAsync(path).then(function (iid) {\n      if (!iid) {\n        iid = uuidv4();\n        return _Storage.default.setItemAsync(path, iid).then(function () {\n          iidCache = iid;\n          return iid;\n        });\n      }\n\n      iidCache = iid;\n      return iid;\n    });\n  },\n  _clearCache: function () {\n    iidCache = null;\n  },\n  _setInstallationIdCache: function (iid\n  /*: string*/\n  ) {\n    iidCache = iid;\n  }\n};\nmodule.exports = InstallationController;"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,sBAAsB,GAAGC,OAAO,CAAC,sDAAsD,CAAC;AAE5F,IAAIC,QAAQ,GAAGF,sBAAsB,CAACC,OAAO,CAAC,+CAA+C,CAAC,CAAC;AAE/F,IAAIE,QAAQ,GAAGH,sBAAsB,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC;AAC3D;AACA;AACA;;AAGA,IAAIG,MAAM,GAAGH,OAAO,CAAC,QAAQ,CAAC;AAE9B,IAAII,QAAQ,GAAG,IAAI;AACnB,IAAIC,sBAAsB,GAAG;EAC3BC,qBAAqB,EAAE,SAAAA,CAAA,EACvB;EACA;IACE,IAAI,OAAOF,QAAQ,KAAK,QAAQ,EAAE;MAChC,OAAOH,QAAQ,CAACM,OAAO,CAACC,OAAO,CAACJ,QAAQ,CAAC;IAC3C;IAEA,IAAIK,IAAI,GAAGP,QAAQ,CAACK,OAAO,CAACG,YAAY,CAAC,gBAAgB,CAAC;IAE1D,OAAOR,QAAQ,CAACK,OAAO,CAACI,YAAY,CAACF,IAAI,CAAC,CAACG,IAAI,CAAC,UAAUC,GAAG,EAAE;MAC7D,IAAI,CAACA,GAAG,EAAE;QACRA,GAAG,GAAGV,MAAM,CAAC,CAAC;QACd,OAAOD,QAAQ,CAACK,OAAO,CAACO,YAAY,CAACL,IAAI,EAAEI,GAAG,CAAC,CAACD,IAAI,CAAC,YAAY;UAC/DR,QAAQ,GAAGS,GAAG;UACd,OAAOA,GAAG;QACZ,CAAC,CAAC;MACJ;MAEAT,QAAQ,GAAGS,GAAG;MACd,OAAOA,GAAG;IACZ,CAAC,CAAC;EACJ,CAAC;EACDE,WAAW,EAAE,SAAAA,CAAA,EAAY;IACvBX,QAAQ,GAAG,IAAI;EACjB,CAAC;EACDY,uBAAuB,EAAE,SAAAA,CAAUH;EACnC,cACE;IACAT,QAAQ,GAAGS,GAAG;EAChB;AACF,CAAC;AACDI,MAAM,CAACC,OAAO,GAAGb,sBAAsB"},"metadata":{},"sourceType":"script","externalDependencies":[]}